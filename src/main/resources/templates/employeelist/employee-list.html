<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>TIME MANAGER / 従業員情報</title>
    <!-- favicon -->
    <link rel="icon" th:href="@{/img/favicon.ico}">
    </head>
<body>
<!-- 共通ヘッダー -->
<header th:replace="~{common/header}"></header>

<!-- メインコンテンツ -->
<main class="main_content">
    <!-- ナビ選択用の設定値 -->
    <input id="target_nav" type="hidden" value="employee-list"/>
    <!-- 共通ナビ -->
    <nav th:replace="~{common/navigation}"></nav>
    <!-- コンテンツ -->
    <section>
        <div aria-label="Basic radio toggle button group"
             class="btn-group w-100"
             role="group">
            <input autocomplete="off" checked class="btn-check"
                   id="btnradio1" name="tbody_toggle" type="radio"
                   value="no_admin">
            <label class="btn btn-outline-primary" for="btnradio1">一般</label>
            <input autocomplete="off" class="btn-check" id="btnradio2"
                   name="tbody_toggle" type="radio" value="admin">
            <label class="btn btn-outline-primary"
                   for="btnradio2">管理者</label>
        </div>
        <div class="bg_white stamp_box margin_tp_2 table-responsive">
            <table class="table table-striped margin_tp_1">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>氏名</th>
                    <th>メールアドレス</th>
                </tr>
                </thead>
                <tbody id="no_admin">
                <tr th:each="employee : ${employeeList}">
                    <td class="id" th:text="${employee.id}"></td>
                    <td class="employee_name"
                        th:text="${employee.first_name + ' ' + employee.last_name}"></td>
                    <td class="email" th:text="${employee.email}"></td>
                </tr>
                </tbody>
                <tbody class="d-none" id="admin">
                <tr th:each="admin : ${adminList}">
                    <td class="id" th:text="${admin.id}"></td>
                    <td class="employee_name"
                        th:text="${admin.first_name + ' ' + admin.last_name}"></td>
                    <td class="email" th:text="${admin.email}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>
<!-- 共通フッター -->
<footer th:replace="~{common/footer}"></footer>
<!-- DataTables JS -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<!-- common.js -->
<script th:src="@{/js/common.js}"></script>

<script>
    $(document).ready(function () {
        var table = $('#employee-table-list').DataTable({
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.11.5/i18n/ja.json"
            }
        });

        $('input[name="tbody_toggle"]').change(function () {
            var selected = $(this).val();
            if (selected === 'admin') {
                $('.admin_row').show();
                $('.no_admin_row').hide();
            } else {
                $('.admin_row').hide();
                $('.no_admin_row').show();
            }
            table.draw();
        });
    });
</script>
</body>
</html>
