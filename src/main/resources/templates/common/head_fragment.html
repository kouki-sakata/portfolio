<head th:fragment="head_content(pageTitle)">
    <meta charset="UTF-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title th:text="${pageTitle}"></title> <!-- 各ページでタイトルを設定できるようにする -->
<!-- favicon -->
<link rel="icon" th:href="@{/img/favicon.ico}">
<!-- bootstrap -->
<link crossorigin="anonymous"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      rel="stylesheet">
<!-- fontawesome -->
<link href="https://use.fontawesome.com/releases/v6.2.0/css/all.css"
      rel="stylesheet">
<!-- css -->
<link rel="stylesheet" th:href="@{/css/reset.css}">
<link rel="stylesheet" th:href="@{/css/style.css}">
<!-- ダークモードちらつき防止スクリプト（インライン用） -->
<script>
  (function() {
    // 一時的にトランジションを無効にするクラスを追加
    document.documentElement.classList.add('no-transition');

    let theme;
    try {
      theme = localStorage.getItem('theme');
      if (!theme) {
        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }
    } catch (e) {
      theme = 'light';
    }
    document.documentElement.setAttribute('data-theme', theme);

    // DOMContentLoaded または次のフレームで no-transition クラスを削除
    // これにより、初期ロード時のトランジションを防止し、その後のトランジションを有効にする
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        document.documentElement.classList.remove('no-transition');
      }, 0);
    });
  })();
</script>